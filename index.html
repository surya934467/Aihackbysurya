       <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vasco A1X TRADER PRO</title>
    <!-- TensorFlow JS (for AI) -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <!-- FontAwesome Icons & Tailwind CSS -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts (Inter for Normal Font) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Chart.js for Analytics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Custom CSS -->
    <style>
        /* Normal Font and Modern Design */
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0a0a0a, #1a1a1a);
            color: #ffffff;
            overflow-y: auto;
        }

        .container {
            max-width: 480px;
            margin: 20px auto;
            padding: 24px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: fadeIn 0.8s ease-in-out;
            max-height: 90vh;
            overflow-y: auto;
        }

        @keyframes fadeIn {
            0% { opacity: 0; transform: translateY(-20px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .heading {
            font-size: 24px;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 24px;
            text-align: center;
            animation: glow 2s infinite;
        }

        @keyframes glow {
            0%, 100% { text-shadow: 0 0 10px #00ff00, 0 0 20px #00ff00; }
            50% { text-shadow: 0 0 20px #ff00ff, 0 0 30px #ff00ff; }
        }

        .box {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .box:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
        }

        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff00, #ff00ff);
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .btn {
            background: linear-gradient(90deg, #00ff00, #ff00ff);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.3s ease;
        }

        .btn:hover {
            transform: scale(1.05);
        }

        .history-box {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
            animation: slideUp 0.5s ease-in-out;
        }

        @keyframes slideUp {
            0% { opacity: 0; transform: translateY(10px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .mark {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ff00ff;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .mark.green {
            background: #00ff00;
        }

        #history-list {
            max-height: 400px;
            overflow-y: auto;
        }

        /* Robot Icon and Message */
        .robot-container {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            z-index: 1000;
        }

        .robot-icon {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .robot-icon:hover {
            transform: scale(1.1);
        }

        .robot-message {
            background: rgba(0, 0, 0, 0.8);
            color: #ffffff;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 10px;
            font-size: 14px;
            max-width: 200px;
            text-align: center;
            animation: fadeInMessage 0.5s ease-in-out;
        }

        @keyframes fadeInMessage {
            0% { opacity: 0; transform: translateY(10px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        /* Tabs */
        .tabs {
            display: flex;
            margin-bottom: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .tab {
            padding: 8px 16px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .tab.active {
            border-bottom: 2px solid #ff00ff;
            color: #ff00ff;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Stats Cards */
        .stats-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
        }

        /* Notification */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            z-index: 1000;
            display: none;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        /* Settings Panel */
        .settings-panel {
            position: fixed;
            top: 0;
            right: -300px;
            width: 300px;
            height: 100vh;
            background: rgba(20, 20, 20, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px;
            transition: right 0.3s ease;
            z-index: 999;
            overflow-y: auto;
        }

        .settings-panel.open {
            right: 0;
        }

        /* Toggle Switch */
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background: linear-gradient(90deg, #00ff00, #ff00ff);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* Countdown Timer */
        .countdown {
            font-size: 18px;
            font-weight: bold;
            color: #ff00ff;
            text-align: center;
            margin: 10px 0;
        }

        /* Pattern Recognition */
        .pattern-indicator {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 10px 0;
        }

        .pattern-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
        }

        .pattern-dot.active {
            background: linear-gradient(135deg, #00ff00, #ff00ff);
            box-shadow: 0 0 8px #ff00ff;
        }
        
        /* Server Cards */
        .server-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .server-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            text-align: center;
            color: #ffffff;
        }
        
        .server-prediction {
            font-size: 20px;
            font-weight: bold;
            text-align: center;
            margin: 10px 0;
        }
        
        .server1 {
            border-left: 4px solid #4f46e5;
        }
        
        .server2 {
            border-left: 4px solid #10b981;
        }
        
        /* New Features */
        /* VIP Section */
        .vip-badge {
            background: linear-gradient(135deg, #f6d365, #fda085);
            color: black;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 12px;
            margin-left: 8px;
        }
        
        /* AI Confidence Indicator */
        .confidence-meter {
            display: flex;
            align-items: center;
            margin-top: 8px;
        }
        
        .confidence-label {
            font-size: 12px;
            margin-right: 8px;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .confidence-bar {
            flex-grow: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            overflow: hidden;
        }
        
        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff00, #ff00ff);
            border-radius: 3px;
            transition: width 0.5s ease;
        }
        
        /* Strategy Selector */
        .strategy-selector {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }
        
        .strategy-btn {
            flex: 1;
            padding: 8px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 12px;
            text-align: center;
        }
        
        .strategy-btn.active {
            background: linear-gradient(90deg, #00ff00, #ff00ff);
            border-color: transparent;
        }
        
        /* Performance Badge */
        .performance-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 8px;
        }
        
        .badge-excellent {
            background: linear-gradient(135deg, #00ff00, #00cc00);
        }
        
        .badge-good {
            background: linear-gradient(135deg, #aaff00, #77cc00);
        }
        
        .badge-average {
            background: linear-gradient(135deg, #ffff00, #cccc00);
        }
        
        .badge-poor {
            background: linear-gradient(135deg, #ff9900, #cc7700);
        }
        
        .badge-bad {
            background: linear-gradient(135deg, #ff0000, #cc0000);
        }
        
        /* VIP Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1001;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #1a1a1a, #0a0a0a);
            border-radius: 16px;
            padding: 24px;
            max-width: 400px;
            width: 90%;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            animation: modalFadeIn 0.3s ease-out;
        }
        
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: bold;
            color: #ffffff;
        }
        
        .close-modal {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            font-size: 24px;
            cursor: pointer;
        }
        
        .vip-feature {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }
        
        .vip-icon {
            margin-right: 12px;
            font-size: 20px;
            color: #ff00ff;
        }
        
        .vip-text {
            flex: 1;
        }
        
        .vip-feature-title {
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .vip-feature-desc {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .vip-btn {
            background: linear-gradient(135deg, #ff00ff, #00ff00);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            font-weight: bold;
            width: 100%;
            margin-top: 16px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .vip-btn:hover {
            transform: scale(1.02);
        }
        
        /* Dark Mode Toggle */
        .dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
        }
        
        .toggle-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .toggle-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* AI Prediction Panel */
        .ai-panel {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 12px;
            padding: 12px;
            margin-top: 12px;
            border-left: 4px solid #4f46e5;
        }
        
        .ai-title {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 8px;
            color: #4f46e5;
        }
        
        .ai-prediction {
            font-size: 16px;
            font-weight: bold;
        }
        
        /* Number Grid */
        .number-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
            margin-top: 12px;
        }
        
        .number-cell {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-weight: bold;
            position: relative;
        }
        
        .number-cell.green {
            background: rgba(0, 255, 0, 0.1);
            border: 1px solid rgba(0, 255, 0, 0.3);
        }
        
        .number-cell.red {
            background: rgba(255, 0, 0, 0.1);
            border: 1px solid rgba(255, 0, 0, 0.3);
        }
        
        .number-cell.hot::after {
            content: "🔥";
            position: absolute;
            top: -5px;
            right: -5px;
            font-size: 12px;
        }
        
        .number-cell.cold::after {
            content: "❄️";
            position: absolute;
            top: -5px;
            right: -5px;
            font-size: 12px;
        }
        
        /* VIP Indicator */
        .vip-indicator {
            position: fixed;
            top: 20px;
            left: 20px;
            background: linear-gradient(135deg, #f6d365, #fda085);
            color: black;
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 12px;
            z-index: 1000;
            cursor: pointer;
            display: flex;
            align-items: center;
        }
        
        .vip-indicator i {
            margin-right: 6px;
        }
        
        /* Server Selector */
        .server-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .server-selector-btn {
            padding: 10px 20px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .server-selector-btn.active {
            background: linear-gradient(90deg, #00ff00, #ff00ff);
            border-color: transparent;
        }
    </style>
</head>

<body>
    <!-- VIP Modal -->
    <div class="modal" id="vip-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">VIP Features</div>
                <button class="close-modal" onclick="closeModal()">&times;</button>
            </div>
            
            <div class="vip-feature">
                <div class="vip-icon"><i class="fas fa-bolt"></i></div>
                <div class="vip-text">
                    <div class="vip-feature-title">Real-time Signals</div>
                    <div class="vip-feature-desc">Get instant notifications for high-probability trades</div>
                </div>
            </div>
            
            <div class="vip-feature">
                <div class="vip-icon"><i class="fas fa-robot"></i></div>
                <div class="vip-text">
                    <div class="vip-feature-title">Advanced AI Predictions</div>
                    <div class="vip-feature-desc">Access our proprietary neural network predictions</div>
                </div>
            </div>
            
            <div class="vip-feature">
                <div class="vip-icon"><i class="fas fa-chart-line"></i></div>
                <div class="vip-text">
                    <div class="vip-feature-title">Premium Analytics</div>
                    <div class="vip-feature-desc">Detailed performance metrics and pattern recognition</div>
                </div>
            </div>
            
            <div class="vip-feature">
                <div class="vip-icon"><i class="fas fa-crown"></i></div>
                <div class="vip-text">
                    <div class="vip-feature-title">VIP Support</div>
                    <div class="vip-feature-desc">Priority customer support 24/7</div>
                </div>
            </div>
            
            <button class="vip-btn" onclick="subscribeVIP()">
                UPGRADE TO VIP - $99/month
            </button>
        </div>
    </div>

    <!-- Settings Panel -->
    <div class="settings-panel" id="settings-panel">
        <h2 class="text-xl font-bold mb-4">Settings</h2>
        
        <div class="mb-4">
            <h3 class="font-semibold mb-2">Notification Settings</h3>
            <div class="flex items-center justify-between mb-2">
                <span>Win Notifications</span>
                <label class="switch">
                    <input type="checkbox" id="win-notifications" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="flex items-center justify-between mb-2">
                <span>Loss Notifications</span>
                <label class="switch">
                    <input type="checkbox" id="loss-notifications" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="flex items-center justify-between mb-2">
                <span>Sound Effects</span>
                <label class="switch">
                    <input type="checkbox" id="sound-effects" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="flex items-center justify-between mb-2">
                <span>Vibration</span>
                <label class="switch">
                    <input type="checkbox" id="vibration" checked>
                    <span class="slider"></span>
                </label>
            </div>
        </div>
        
        <div class="mb-4">
            <h3 class="font-semibold mb-2">Analytics Settings</h3>
            <div class="flex items-center justify-between mb-2">
                <span>Show Advanced Stats</span>
                <label class="switch">
                    <input type="checkbox" id="advanced-stats" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="flex items-center justify-between mb-2">
                <span>Auto-Refresh Data</span>
                <label class="switch">
                    <input type="checkbox" id="auto-refresh" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="flex items-center justify-between mb-2">
                <span>Show Hot/Cold Numbers</span>
                <label class="switch">
                    <input type="checkbox" id="hot-cold-numbers" checked>
                    <span class="slider"></span>
                </label>
            </div>
        </div>
        
        <div class="mb-4">
            <h3 class="font-semibold mb-2">Betting Settings</h3>
            <div class="mb-2">
                <label class="block text-sm mb-1">Default Bet Amount</label>
                <input type="number" id="bet-amount" value="100" min="10" max="10000" class="w-full bg-gray-700 rounded p-2">
            </div>
            <div class="flex items-center justify-between mb-2">
                <span>Auto-Bet on High Confidence</span>
                <label class="switch">
                    <input type="checkbox" id="auto-bet">
                    <span class="slider"></span>
                </label>
            </div>
        </div>
        
        <div class="mb-4">
            <h3 class="font-semibold mb-2">Theme</h3>
            <div class="flex gap-2">
                <button class="px-3 py-1 rounded bg-purple-600" onclick="changeTheme('purple')">Purple</button>
                <button class="px-3 py-1 rounded bg-blue-600" onclick="changeTheme('blue')">Blue</button>
                <button class="px-3 py-1 rounded bg-green-600" onclick="changeTheme('green')">Green</button>
                <button class="px-3 py-1 rounded bg-red-600" onclick="changeTheme('red')">Red</button>
            </div>
        </div>
        
        <button class="btn w-full mt-4" onclick="closeSettings()">Close Settings</button>
    </div>

    <!-- Robot Icon and Message -->
    <div class="robot-container">
        <div id="robot-message" class="robot-message" style="display: none;"></div>
        <div class="robot-icon" id="robot-icon" onclick="toggleSettings()">
            ⚙️
        </div>
    </div>

    <!-- VIP Indicator -->
    <div class="vip-indicator" onclick="openModal()">
        <i class="fas fa-crown"></i>
        <span>UPGRADE TO VIP</span>
    </div>

    <!-- Dark Mode Toggle -->
    <div class="dark-mode-toggle">
        <div class="toggle-btn" id="dark-mode-toggle">
            <i class="fas fa-moon"></i>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <div class="container">
        <!-- Heading -->
        <h1 class="heading">
            TKS <span class="text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-purple-400">A1X PRO</span>
            <span class="vip-badge">VIP EDITION</span>
        </h1>

        <!-- Countdown Timer -->
        <div class="countdown" id="countdown">
            Next update in: 5s
        </div>

        <!-- Server Selector Buttons -->
        <div class="server-selector">
            <button class="server-selector-btn active" id="server1-btn" onclick="showServer('server1')">SERVER 1</button>
            <button class="server-selector-btn" id="server2-btn" onclick="showServer('server2')">SERVER 2</button>
        </div>

        <!-- Tabs -->
        <div class="tabs">
            <div class="tab active" onclick="switchTab('dashboard')">Dashboard</div>
            <div class="tab" onclick="switchTab('analytics')">Analytics</div>
            <div class="tab" onclick="switchTab('history')">History</div>
            <div class="tab" onclick="switchTab('vip')">VIP</div>
        </div>

        <!-- Dashboard Tab -->
        <div id="dashboard-tab" class="tab-content active">
            <!-- Current Period -->
            <div class="box text-center">
                <p class="text-lg font-semibold text-gray-300">
                    <i class="fas fa-calendar-alt"></i> Period: <span id="period-number" class="text-white">Loading...</span>
                </p>
                <div class="mt-2 text-sm">
                    <span id="server-status" class="text-green-400"><i class="fas fa-circle"></i> Connected</span>
                    <span class="mx-2">|</span>
                    <span id="ai-status" class="text-purple-400"><i class="fas fa-brain"></i> AI Active</span>
                </div>
            </div>
            
            <!-- Server 1 Prediction (SMALL/BIG) -->
            <div class="server-card server1" id="server1-container">
                <div class="server-title">SERVER 1 (SMALL/BIG)</div>
                <div class="progress-bar mt-2">
                    <div id="server1-progress" class="progress-bar-fill" style="width: 0%;"></div>
                </div>
                <div id="server1-prediction" class="server-prediction text-blue-400">Loading...</div>
                
                <!-- AI Confidence Meter -->
                <div class="confidence-meter">
                    <div class="confidence-label">AI Confidence:</div>
                    <div class="confidence-bar">
                        <div id="server1-confidence" class="confidence-fill" style="width: 75%;"></div>
                    </div>
                    <div id="server1-confidence-value" class="text-xs ml-2">75%</div>
                </div>
                
                <div class="pattern-indicator" id="server1-pattern">
                    <!-- Dots will be added dynamically -->
                </div>
                
                <!-- Strategy Selector -->
                <div class="strategy-selector">
                    <div class="strategy-btn active" onclick="changeStrategy('server1', 'streak')">Streak</div>
                    <div class="strategy-btn" onclick="changeStrategy('server1', 'frequency')">Frequency</div>
                    <div class="strategy-btn" onclick="changeStrategy('server1', 'neural')">Neural</div>
                </div>
                
                <div class="mt-3 grid grid-cols-2 gap-2">
                    <button class="btn bg-blue-500" onclick="placeBet('big')">Bet BIG</button>
                    <button class="btn bg-yellow-500" onclick="placeBet('small')">Bet SMALL</button>
                </div>
                
                <!-- AI Prediction Panel -->
                <div class="ai-panel">
                    <div class="ai-title">AI ANALYSIS</div>
                    <div class="ai-prediction" id="server1-ai-prediction">
                        Pattern recognition indicates 75% chance of BIG based on recent streak analysis.
                    </div>
                </div>
            </div>
            
            <!-- Server 2 Prediction (GREEN/RED) -->
            <div class="server-card server2" id="server2-container" style="display: none;">
                <div class="server-title">SERVER 2 (GREEN/RED)</div>
                <div class="progress-bar mt-2">
                    <div id="server2-progress" class="progress-bar-fill" style="width: 0%;"></div>
                </div>
                <div id="server2-prediction" class="server-prediction text-green-400">Loading...</div>
                
                <!-- AI Confidence Meter -->
                <div class="confidence-meter">
                    <div class="confidence-label">AI Confidence:</div>
                    <div class="confidence-bar">
                        <div id="server2-confidence" class="confidence-fill" style="width: 65%;"></div>
                    </div>
                    <div id="server2-confidence-value" class="text-xs ml-2">65%</div>
                </div>
                
                <div class="pattern-indicator" id="server2-pattern">
                    <!-- Dots will be added dynamically -->
                </div>
                
                <!-- Strategy Selector -->
                <div class="strategy-selector">
                    <div class="strategy-btn active" onclick="changeStrategy('server2', 'streak')">Streak</div>
                    <div class="strategy-btn" onclick="changeStrategy('server2', 'frequency')">Frequency</div>
                    <div class="strategy-btn" onclick="changeStrategy('server2', 'neural')">Neural</div>
                </div>
                
                <div class="mt-3 grid grid-cols-2 gap-2">
                    <button class="btn bg-green-500" onclick="placeBet('green')">Bet GREEN</button>
                    <button class="btn bg-red-500" onclick="placeBet('red')">Bet RED</button>
                </div>
                
                <!-- AI Prediction Panel -->
                <div class="ai-panel">
                    <div class="ai-title">AI ANALYSIS</div>
                    <div class="ai-prediction" id="server2-ai-prediction">
                        Neural network predicts 65% probability for GREEN based on historical patterns.
                    </div>
                </div>
            </div>
            
            <!-- Number Grid -->
            <div class="box">
                <h2 class="text-lg font-semibold text-gray-300 text-center">Number Analysis</h2>
                <div class="number-grid" id="number-grid">
                    <!-- Numbers will be added dynamically -->
                </div>
                <div class="mt-3 text-sm text-center text-gray-400">
                    <span><span class="inline-block w-3 h-3 bg-green-500 rounded-full mr-1"></span> Green</span>
                    <span class="mx-3"><span class="inline-block w-3 h-3 bg-red-500 rounded-full mr-1"></span> Red</span>
                    <span>🔥 Hot</span>
                    <span class="mx-3">❄️ Cold</span>
                </div>
            </div>

            <!-- Quick Stats -->
            <div class="box mt-6">
                <h2 class="text-lg font-semibold text-gray-300 text-center">Quick Stats</h2>
                <div class="grid grid-cols-2 gap-4 mt-4">
                    <div class="stats-card text-center">
                        <p class="text-gray-300">WIN Count</p>
                        <p id="won-count" class="text-xl font-bold text-green-400">0</p>
                    </div>
                    <div class="stats-card text-center">
                        <p class="text-gray-300">Lost Count</p>
                        <p id="lost-count" class="text-xl font-bold text-red-400">0</p>
                    </div>
                    <div class="stats-card text-center">
                        <p class="text-gray-300">WIN %</p>
                        <p id="won-percentage" class="text-xl font-bold text-green-400">0%</p>
                    </div>
                    <div class="stats-card text-center">
                        <p class="text-gray-300">Current Streak</p>
                        <p id="current-streak" class="text-xl font-bold text-purple-400">0</p>
                    </div>
                </div>
                <div class="mt-4 text-center">
                    <p class="text-sm text-gray-400">Performance: <span id="performance-rating" class="performance-badge badge-average">Average</span></p>
                </div>
            </div>

            <!-- Last 5 Results -->
            <div class="box mt-6">
                <h2 class="text-lg font-semibold text-gray-300 text-center">Last 5 Results</h2>
                <div id="recent-results" class="flex justify-center gap-2 mt-4">
                    <!-- Results will be added dynamically -->
                </div>
            </div>
        </div>

        <!-- Analytics Tab -->
        <div id="analytics-tab" class="tab-content">
            <div class="box">
                <h2 class="text-lg font-semibold text-gray-300 text-center">Performance Analytics</h2>
                <canvas id="performance-chart" height="200"></canvas>
                <div class="mt-2 text-center text-sm text-gray-400">
                    <span><span class="inline-block w-3 h-3 bg-purple-500 rounded-full mr-1"></span> Server 1</span>
                    <span class="mx-3"><span class="inline-block w-3 h-3 bg-green-500 rounded-full mr-1"></span> Server 2</span>
                </div>
            </div>
            
            <div class="box mt-6">
                <h2 class="text-lg font-semibold text-gray-300 text-center">Server 1 (SMALL/BIG) Analysis</h2>
                <div class="mt-4">
                    <p class="text-gray-300 mb-2">Big/Small Pattern:</p>
                    <div id="big-small-pattern" class="flex gap-1 mb-4">
                        <!-- Pattern will be added dynamically -->
                    </div>
                    <div class="grid grid-cols-2 gap-4 mt-4">
                        <div class="stats-card text-center">
                            <p class="text-gray-300">Big Accuracy</p>
                            <p id="big-accuracy" class="text-xl font-bold text-blue-400">0%</p>
                        </div>
                        <div class="stats-card text-center">
                            <p class="text-gray-300">Small Accuracy</p>
                            <p id="small-accuracy" class="text-xl font-bold text-yellow-400">0%</p>
                        </div>
                    </div>
                    <div class="mt-4">
                        <canvas id="big-small-chart" height="150"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="box mt-6">
                <h2 class="text-lg font-semibold text-gray-300 text-center">Server 2 (GREEN/RED) Analysis</h2>
                <div class="mt-4">
                    <p class="text-gray-300 mb-2">Green/Red Pattern:</p>
                    <div id="color-pattern" class="flex gap-1 mb-4">
                        <!-- Pattern will be added dynamically -->
                    </div>
                    <div class="grid grid-cols-2 gap-4 mt-4">
                        <div class="stats-card text-center">
                            <p class="text-gray-300">Green Accuracy</p>
                            <p id="green-accuracy" class="text-xl font-bold text-green-400">0%</p>
                        </div>
                        <div class="stats-card text-center">
                            <p class="text-gray-300">Red Accuracy</p>
                            <p id="red-accuracy" class="text-xl font-bold text-red-400">0%</p>
                        </div>
                    </div>
                    <div class="mt-4">
                        <canvas id="color-chart" height="150"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="box mt-6">
                <h2 class="text-lg font-semibold text-gray-300 text-center">Number Frequency</h2>
                <div class="mt-4">
                    <canvas id="number-frequency-chart" height="200"></canvas>
                </div>
            </div>
        </div>

        <!-- History Tab -->
        <div id="history-tab" class="tab-content">
            <div class="box">
                <h2 class="text-lg font-semibold text-gray-300 text-center">Prediction History</h2>
                <div class="flex justify-between mb-2 px-2">
                    <span class="text-gray-400 text-sm">Period</span>
                    <span class="text-gray-400 text-sm">Server 1</span>
                    <span class="text-gray-400 text-sm">Server 2</span>
                    <span class="text-gray-400 text-sm">Result</span>
                </div>
                <div id="history-list" class="grid grid-cols-1 gap-3 mt-3"></div>
            </div>
            
            <div class="box mt-6">
                <h2 class="text-lg font-semibold text-gray-300 text-center">Export Data</h2>
                <div class="flex gap-2 mt-4">
                    <button class="btn flex-1" onclick="exportData('csv')">
                        <i class="fas fa-file-csv mr-2"></i> CSV
                    </button>
                    <button class="btn flex-1" onclick="exportData('json')">
                        <i class="fas fa-file-code mr-2"></i> JSON
                    </button>
                </div>
            </div>
        </div>
        
        <!-- VIP Tab -->
        <div id="vip-tab" class="tab-content">
            <div class="box text-center">
                <div class="text-purple-400 text-4xl mb-4">
                    <i class="fas fa-crown"></i>
                </div>
                <h2 class="text-xl font-bold mb-2">Upgrade to VIP</h2>
                <p class="text-gray-300 mb-4">Unlock premium features and increase your winning rate</p>
                
                <div class="bg-gradient-to-r from-purple-500 to-pink-500 p-4 rounded-lg mb-6">
                    <div class="text-3xl font-bold mb-2">$99/month</div>
                    <div class="text-sm">Cancel anytime</div>
                </div>
                
                <div class="text-left mb-6">
                    <div class="flex items-start mb-4">
                        <div class="text-green-400 mr-3 mt-1"><i class="fas fa-check-circle"></i></div>
                        <div>
                            <div class="font-bold">Advanced AI Predictions</div>
                            <div class="text-sm text-gray-400">Our proprietary neural network provides 85%+ accuracy</div>
                        </div>
                    </div>
                    
                    <div class="flex items-start mb-4">
                        <div class="text-green-400 mr-3 mt-1"><i class="fas fa-check-circle"></i></div>
                        <div>
                            <div class="font-bold">Real-time Signals</div>
                            <div class="text-sm text-gray-400">Instant notifications for high-probability trades</div>
                        </div>
                    </div>
                    
                    <div class="flex items-start mb-4">
                        <div class="text-green-400 mr-3 mt-1"><i class="fas fa-check-circle"></i></div>
                        <div>
                            <div class="font-bold">Premium Analytics</div>
                            <div class="text-sm text-gray-400">Detailed performance metrics and pattern recognition</div>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <div class="text-green-400 mr-3 mt-1"><i class="fas fa-check-circle"></i></div>
                        <div>
                            <div class="font-bold">VIP Support</div>
                            <div class="text-sm text-gray-400">Priority customer support 24/7</div>
                        </div>
                    </div>
                </div>
                
                <button class="btn w-full" onclick="openModal()">
                    UPGRADE NOW
                </button>
                
                <div class="mt-6">
                    <button class="btn bg-blue-500 w-full" onclick="reconnectServer()">
                        <i class="fas fa-sync-alt mr-2"></i> RECONNECT SERVER
                    </button>
                    <button class="btn bg-purple-500 w-full mt-2" onclick="openWebsite('https://t.me/Suryarunl')">
                        <i class="fas fa-external-link-alt mr-2"></i> WEB ADMIN
                        
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Code -->
    <script>
        // Global variables
        let previousResults = [];
        let latestResult = null;
        let latestPeriod = null;
        let history = [];
        let countdownInterval;
        let performanceChart;
        let bigSmallChart;
        let colorChart;
        let numberFrequencyChart;
        let settings = {
            winNotifications: true,
            lossNotifications: true,
            soundEffects: true,
            vibration: true,
            advancedStats: true,
            autoRefresh: true,
            hotColdNumbers: true,
            autoBet: false,
            betAmount: 100,
            theme: 'default',
            darkMode: false
        };
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            loadSettings();
            initializeCharts();
            fetchCurrentGameIssue(); // Initial fetch
            startCountdown();
            updateNumberGrid();
            setupDarkModeToggle();
        });
        
        // Show server content based on selection
        function showServer(server) {
            // Update active button
            document.getElementById('server1-btn').classList.remove('active');
            document.getElementById('server2-btn').classList.remove('active');
            document.getElementById(`${server}-btn`).classList.add('active');
            
            // Show selected server content
            document.getElementById('server1-container').style.display = 'none';
            document.getElementById('server2-container').style.display = 'none';
            document.getElementById(`${server}-container`).style.display = 'block';
        }
        
        // Reconnect to server
        function reconnectServer() {
            showNotification('Reconnecting to server...', 'info');
            document.getElementById('server-status').className = "text-yellow-400";
            document.getElementById('server-status').innerHTML = '<i class="fas fa-circle"></i> Reconnecting...';
            
            // Simulate reconnection
            setTimeout(() => {
                fetchCurrentGameIssue();
            }, 2000);
        }
        
        // Open external website
        function openWebsite(url) {
            window.open(url, '_blank');
        }
        
        // Load settings from localStorage
        function loadSettings() {
            const savedSettings = localStorage.getItem('vascoSettings');
            if (savedSettings) {
                settings = JSON.parse(savedSettings);
                updateSettingsUI();
            }
        }
        
        // Save settings to localStorage
        function saveSettings() {
            localStorage.setItem('vascoSettings', JSON.stringify(settings));
            updateSettingsUI();
        }
        
        // Update settings UI based on current settings
        function updateSettingsUI() {
            document.getElementById('win-notifications').checked = settings.winNotifications;
            document.getElementById('loss-notifications').checked = settings.lossNotifications;
            document.getElementById('sound-effects').checked = settings.soundEffects;
            document.getElementById('vibration').checked = settings.vibration;
            document.getElementById('advanced-stats').checked = settings.advancedStats;
            document.getElementById('auto-refresh').checked = settings.autoRefresh;
            document.getElementById('hot-cold-numbers').checked = settings.hotColdNumbers;
            document.getElementById('auto-bet').checked = settings.autoBet;
            document.getElementById('bet-amount').value = settings.betAmount;
            applyTheme(settings.theme);
            applyDarkMode(settings.darkMode);
        }
        
        // Toggle settings panel
        function toggleSettings() {
            document.getElementById('settings-panel').classList.toggle('open');
        }
        
        // Close settings panel
        function closeSettings() {
            document.getElementById('settings-panel').classList.remove('open');
            
            // Save settings when panel is closed
            settings.winNotifications = document.getElementById('win-notifications').checked;
            settings.lossNotifications = document.getElementById('loss-notifications').checked;
            settings.soundEffects = document.getElementById('sound-effects').checked;
            settings.vibration = document.getElementById('vibration').checked;
            settings.advancedStats = document.getElementById('advanced-stats').checked;
            settings.autoRefresh = document.getElementById('auto-refresh').checked;
            settings.hotColdNumbers = document.getElementById('hot-cold-numbers').checked;
            settings.autoBet = document.getElementById('auto-bet').checked;
            settings.betAmount = parseInt(document.getElementById('bet-amount').value) || 100;
            
            saveSettings();
        }
        
        // Change theme
        function changeTheme(theme) {
            settings.theme = theme;
            saveSettings();
            applyTheme(theme);
        }
        
        // Apply theme to the app
        function applyTheme(theme) {
            // Remove all theme classes first
            document.body.classList.remove(
                'theme-purple', 'theme-blue', 'theme-green', 'theme-red'
            );
            
            if (theme !== 'default') {
                document.body.classList.add(`theme-${theme}`);
            }
        }
        
        // Setup dark mode toggle
        function setupDarkModeToggle() {
            const toggle = document.getElementById('dark-mode-toggle');
            toggle.addEventListener('click', toggleDarkMode);
            
            // Set initial icon
            updateDarkModeIcon();
        }
        
        // Toggle dark mode
        function toggleDarkMode() {
            settings.darkMode = !settings.darkMode;
            saveSettings();
            applyDarkMode(settings.darkMode);
            updateDarkModeIcon();
        }
        
        // Apply dark mode
        function applyDarkMode(enabled) {
            if (enabled) {
                document.body.style.background = 'linear-gradient(135deg, #0a0a0a, #1a1a1a)';
                document.body.style.color = '#ffffff';
            } else {
                document.body.style.background = 'linear-gradient(135deg, #f5f5f5, #e5e5e5)';
                document.body.style.color = '#333333';
            }
        }
        
        // Update dark mode icon
        function updateDarkModeIcon() {
            const icon = document.querySelector('#dark-mode-toggle i');
            if (settings.darkMode) {
                icon.className = 'fas fa-sun';
            } else {
                icon.className = 'fas fa-moon';
            }
        }
        
        // Open VIP modal
        function openModal() {
            document.getElementById('vip-modal').style.display = 'flex';
        }
        
        // Close VIP modal
        function closeModal() {
            document.getElementById('vip-modal').style.display = 'none';
        }
        
        // Subscribe to VIP
        function subscribeVIP() {
    showNotification('Loading VIP subscription page...', 'info');
    setTimeout(() => {
        closeModal(); // Close the current modal if needed
        
        // Create a new modal or container for the iframe
        const iframeContainer = document.createElement('div');
        iframeContainer.innerHTML = `
            <iframe 
                src="https://media-hosting.imagekit.io/5e84ebba487345be/1000247289.jpg?Expires=1838863098&Key-Pair-Id=K2ZIVPTIP2VGHC&Signature=YaX3ko3fyC1SnNB6P87WarYkXZLqrriZ5mAaSQ-rvecsHQD1lb0EigILxTOsqdmRSiCNsDLu~pHcyDPqL2X~~NVLvjPB6Gq7sHjHfQhC-QaTRxlyXrNR-5nCxY3PIihdoCq3eQLr2cG54CH9b0avlNBbQbQ6GKpZrYq7u5v5Q0NWSTaqi3vmkc8pFKkjcQ~bqDQfZYr4JFY04ULqJSmHyqWOR59q7TLNNwsHubcgpfEV-w6DJQ-ayNwnBkIQ9rSAw8umfJrsu3kA-VCDzeCnQsPDgfHpXv-4-O2stljtz1Nve~gZq3-AoUIRGqrhiWIWSSn08n25Q96~Sc8yvGYTuQ__" 
                width="100%" 
                height="500px" 
                frameborder="0"
                allowfullscreen>
            </iframe>
            <button onclick="this.parentElement.remove()">Close</button>
        `;
        document.body.appendChild(iframeContainer);
    }, 2000);
}
        
        // Switch between tabs
        function switchTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Deactivate all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Activate selected tab
            document.getElementById(`${tabName}-tab`).classList.add('active');
            
            // Activate tab button
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                if (tab.textContent.toLowerCase().includes(tabName)) {
                    tab.classList.add('active');
                }
            });
            
            // Update charts if analytics tab is selected
            if (tabName === 'analytics') {
                updateCharts();
            }
        }
        
        // Change strategy for a server
        function changeStrategy(server, strategy) {
            // Update active button
            const buttons = document.querySelectorAll(`.${server} .strategy-btn`);
            buttons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.textContent.toLowerCase().includes(strategy)) {
                    btn.classList.add('active');
                }
            });
            
            // Update prediction based on new strategy
            if (previousResults.length > 0) {
                updateResults();
            }
            
            showNotification(`${server.toUpperCase()} strategy changed to ${strategy}`, 'info');
        }
        
        // Initialize all charts
        function initializeCharts() {
            initializePerformanceChart();
            initializeBigSmallChart();
            initializeColorChart();
            initializeNumberFrequencyChart();
        }
        
        // Initialize performance chart
        function initializePerformanceChart() {
            const ctx = document.getElementById('performance-chart').getContext('2d');
            performanceChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [
                        {
                            label: 'Server 1 Accuracy',
                            data: [],
                            borderColor: '#4f46e5',
                            backgroundColor: 'rgba(79, 70, 229, 0.1)',
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'Server 2 Accuracy',
                            data: [],
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            tension: 0.4,
                            fill: true
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                color: settings.darkMode ? '#ffffff' : '#333333'
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                color: settings.darkMode ? '#ffffff' : '#333333'
                            },
                            grid: {
                                color: settings.darkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: settings.darkMode ? '#ffffff' : '#333333'
                            },
                            grid: {
                                color: settings.darkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
                            }
                        }
                    }
                }
            });
        }
        
        // Initialize big/small chart
        function initializeBigSmallChart() {
            const ctx = document.getElementById('big-small-chart').getContext('2d');
            bigSmallChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Big', 'Small'],
                    datasets: [{
                        label: 'Accuracy',
                        data: [0, 0],
                        backgroundColor: [
                            'rgba(79, 70, 229, 0.7)',
                            'rgba(234, 179, 8, 0.7)'
                        ],
                        borderColor: [
                            'rgba(79, 70, 229, 1)',
                            'rgba(234, 179, 8, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                color: settings.darkMode ? '#ffffff' : '#333333'
                            },
                            grid: {
                                color: settings.darkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: settings.darkMode ? '#ffffff' : '#333333'
                            },
                            grid: {
                                color: settings.darkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }
        
        // Initialize color chart
        function initializeColorChart() {
            const ctx = document.getElementById('color-chart').getContext('2d');
            colorChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Green', 'Red'],
                    datasets: [{
                        label: 'Accuracy',
                        data: [0, 0],
                        backgroundColor: [
                            'rgba(16, 185, 129, 0.7)',
                            'rgba(239, 68, 68, 0.7)'
                        ],
                        borderColor: [
                            'rgba(16, 185, 129, 1)',
                            'rgba(239, 68, 68, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                color: settings.darkMode ? '#ffffff' : '#333333'
                            },
                            grid: {
                                color: settings.darkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: settings.darkMode ? '#ffffff' : '#333333'
                            },
                            grid: {
                                color: settings.darkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }
        
        // Initialize number frequency chart
        function initializeNumberFrequencyChart() {
            const ctx = document.getElementById('number-frequency-chart').getContext('2d');
            numberFrequencyChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: Array.from({length: 10}, (_, i) => i.toString()),
                    datasets: [{
                        label: 'Frequency',
                        data: Array(10).fill(0),
                        backgroundColor: Array(10).fill().map((_, i) => 
                            [1, 3, 5, 7, 9].includes(i) ? 'rgba(16, 185, 129, 0.7)' : 'rgba(239, 68, 68, 0.7)'
                        ),
                        borderColor: Array(10).fill().map((_, i) => 
                            [1, 3, 5, 7, 9].includes(i) ? 'rgba(16, 185, 129, 1)' : 'rgba(239, 68, 68, 1)'
                        ),
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: settings.darkMode ? '#ffffff' : '#333333'
                            },
                            grid: {
                                color: settings.darkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: settings.darkMode ? '#ffffff' : '#333333'
                            },
                            grid: {
                                color: settings.darkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }
        
        // Update all charts
        function updateCharts() {
            updatePerformanceChart();
            updateBigSmallChart();
            updateColorChart();
            updateNumberFrequencyChart();
        }
        
        // Update performance chart
        function updatePerformanceChart() {
            if (!performanceChart) return;
            
            // Get last 10 history entries
            const recentHistory = history.slice(0, 10).reverse();
            const labels = recentHistory.map(entry => `#${entry.period.slice(-4)}`);
            const server1Accuracy = [];
            const server2Accuracy = [];
            
            // Calculate cumulative accuracy for both servers
            let server1Correct = 0, server1Total = 0;
            let server2Correct = 0, server2Total = 0;
            
            for (let i = 0; i < recentHistory.length; i++) {
                const entry = recentHistory[i];
                if (entry.status === 'PENDING') continue;
                
                const actualNumber = previousResults[0].number; // Most recent result
                
                // Check Server 1 (SMALL/BIG) prediction
                if (entry.server1Prediction) {
                    server1Total++;
                    const isBig = actualNumber >= 5;
                    if ((entry.server1Prediction === 'BIG' && isBig) || 
                        (entry.server1Prediction === 'SMALL' && !isBig)) {
                        server1Correct++;
                    }
                }
                
                // Check Server 2 (GREEN/RED) prediction
                if (entry.server2Prediction) {
                    server2Total++;
                    const isGreen = [1, 3, 5, 7, 9].includes(actualNumber);
                    if ((entry.server2Prediction === 'GREEN' && isGreen) || 
                        (entry.server2Prediction === 'RED' && !isGreen)) {
                        server2Correct++;
                    }
                }
                
                // Calculate accuracy rates
                const server1Rate = server1Total > 0 ? (server1Correct / server1Total) * 100 : 0;
                const server2Rate = server2Total > 0 ? (server2Correct / server2Total) * 100 : 0;
                
                server1Accuracy.push(server1Rate);
                server2Accuracy.push(server2Rate);
            }
            
            // Update chart data
            performanceChart.data.labels = labels;
            performanceChart.data.datasets[0].data = server1Accuracy;
            performanceChart.data.datasets[1].data = server2Accuracy;
            performanceChart.update();
        }
        
        // Update big/small chart
        function updateBigSmallChart() {
            if (!bigSmallChart) return;
            
            let bigCorrect = 0, bigTotal = 0;
            let smallCorrect = 0, smallTotal = 0;
            
            // Skip the first (pending) entry
            for (let i = 1; i < history.length; i++) {
                const entry = history[i];
                if (entry.status === 'PENDING') continue;
                
                const actualNumber = previousResults[0].number; // Most recent result
                
                // Check Server 1 (SMALL/BIG) prediction
                if (entry.server1Prediction) {
                    if (entry.server1Prediction === 'BIG') {
                        bigTotal++;
                        if (actualNumber >= 5) bigCorrect++;
                    } else if (entry.server1Prediction === 'SMALL') {
                        smallTotal++;
                        if (actualNumber <= 4) smallCorrect++;
                    }
                }
            }
            
            // Update chart data
            bigSmallChart.data.datasets[0].data = [
                bigTotal > 0 ? (bigCorrect / bigTotal) * 100 : 0,
                smallTotal > 0 ? (smallCorrect / smallTotal) * 100 : 0
            ];
            bigSmallChart.update();
        }
        
        // Update color chart
        function updateColorChart() {
            if (!colorChart) return;
            
            let greenCorrect = 0, greenTotal = 0;
            let redCorrect = 0, redTotal = 0;
            
            // Skip the first (pending) entry
            for (let i = 1; i < history.length; i++) {
                const entry = history[i];
                if (entry.status === 'PENDING') continue;
                
                const actualNumber = previousResults[0].number; // Most recent result
                
                // Check Server 2 (GREEN/RED) prediction
                if (entry.server2Prediction) {
                    if (entry.server2Prediction === 'GREEN') {
                        greenTotal++;
                        if ([1, 3, 5, 7, 9].includes(actualNumber)) greenCorrect++;
                    } else if (entry.server2Prediction === 'RED') {
                        redTotal++;
                        if ([0, 2, 4, 6, 8].includes(actualNumber)) redCorrect++;
                    }
                }
            }
            
            // Update chart data
            colorChart.data.datasets[0].data = [
                greenTotal > 0 ? (greenCorrect / greenTotal) * 100 : 0,
                redTotal > 0 ? (redCorrect / redTotal) * 100 : 0
            ];
            colorChart.update();
        }
        
        // Update number frequency chart
        function updateNumberFrequencyChart() {
            if (!numberFrequencyChart || previousResults.length === 0) return;
            
            // Count frequency of each number in last 50 results
            const frequency = Array(10).fill(0);
            const recentResults = previousResults.slice(0, 50);
            
            recentResults.forEach(result => {
                const num = parseInt(result.number);
                if (num >= 0 && num <= 9) {
                    frequency[num]++;
                }
            });
            
            // Update chart data
            numberFrequencyChart.data.datasets[0].data = frequency;
            numberFrequencyChart.update();
            
            // Also update the number grid with hot/cold indicators
            updateNumberGrid();
        }
        
        // Update number grid with hot/cold indicators
        function updateNumberGrid() {
            if (previousResults.length === 0) return;
            
            const grid = document.getElementById('number-grid');
            grid.innerHTML = '';
            
            // Count frequency of each number in last 20 results
            const frequency = Array(10).fill(0);
            const recentResults = previousResults.slice(0, 20);
            
            recentResults.forEach(result => {
                const num = parseInt(result.number);
                if (num >= 0 && num <= 9) {
                    frequency[num]++;
                }
            });
            
            // Determine hot (above average) and cold (below average) numbers
            const avgFrequency = recentResults.length / 10;
            const hotNumbers = [];
            const coldNumbers = [];
            
            frequency.forEach((count, num) => {
                if (count > avgFrequency * 1.5) {
                    hotNumbers.push(num);
                } else if (count < avgFrequency * 0.5) {
                    coldNumbers.push(num);
                }
            });
            
            // Create number cells
            for (let i = 0; i < 10; i++) {
                const cell = document.createElement('div');
                cell.className = `number-cell ${[1, 3, 5, 7, 9].includes(i) ? 'green' : 'red'}`;
                cell.textContent = i;
                
                // Add hot/cold indicators if enabled
                if (settings.hotColdNumbers) {
                    if (hotNumbers.includes(i)) {
                        cell.classList.add('hot');
                    } else if (coldNumbers.includes(i)) {
                        cell.classList.add('cold');
                    }
                }
                
                grid.appendChild(cell);
            }
        }
        
        // Start countdown timer
        function startCountdown() {
            let seconds = 5;
            updateCountdown(seconds);
            
            countdownInterval = setInterval(() => {
                seconds--;
                updateCountdown(seconds);
                
                if (seconds <= 0) {
                    seconds = 5;
                    if (settings.autoRefresh) {
                        fetchCurrentGameIssue();
                    }
                }
            }, 1000);
        }
        
        // Update countdown display
        function updateCountdown(seconds) {
            document.getElementById('countdown').textContent = `Next update in: ${seconds}s`;
        }
        
        // Show notification
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.style.display = 'block';
            
            // Set color based on type
            if (type === 'success') {
                notification.style.background = 'rgba(0, 255, 0, 0.8)';
            } else if (type === 'error') {
                notification.style.background = 'rgba(255, 0, 0, 0.8)';
            } else {
                notification.style.background = 'rgba(0, 0, 0, 0.8)';
            }
            
            // Hide after 3 seconds
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
            
            // Play sound if enabled
            if (settings.soundEffects) {
                playSound(type);
            }
            
            // Vibrate if enabled
            if (settings.vibration && navigator.vibrate) {
                if (type === 'success') {
                    navigator.vibrate([200, 100, 200]);
                } else if (type === 'error') {
                    navigator.vibrate([500]);
                } else {
                    navigator.vibrate([200]);
                }
            }
        }
        
        // Play sound effect
        function playSound(type) {
            const audio = new Audio();
            if (type === 'success') {
                audio.src = 'https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3';
            } else if (type === 'error') {
                audio.src = 'https://assets.mixkit.co/sfx/preview/mixkit-alarm-digital-clock-beep-989.mp3';
            } else {
                audio.src = 'https://assets.mixkit.co/sfx/preview/mixkit-modern-click-box-check-1120.mp3';
            }
            audio.play();
        }
        
        // Robot Message Function
        function showRobotMessage(message, isWin) {
            if ((isWin && !settings.winNotifications) || (!isWin && !settings.lossNotifications)) {
                return;
            }
            
            const robotMessage = document.getElementById('robot-message');
            const robotIcon = document.getElementById('robot-icon');

            // Update message and icon
            robotMessage.textContent = message;
            robotMessage.style.display = 'block';
            robotIcon.textContent = isWin ? '👑' : '😢'; // Smile for win, sad for loss

            // Hide message after 5 seconds
            setTimeout(() => {
                robotMessage.style.display = 'none';
                robotIcon.textContent = '⚙️'; // Reset to settings icon
            }, 5000);
            
            // Play sound if enabled
            if (settings.soundEffects) {
                playSound(isWin ? 'success' : 'error');
            }
            
            // Vibrate if enabled
            if (settings.vibration && navigator.vibrate) {
                if (isWin) {
                    navigator.vibrate([200, 100, 200]);
                } else {
                    navigator.vibrate([500]);
                }
            }
        }
        
        // Place a bet (simulated)
        function placeBet(type) {
            let betAmount = settings.betAmount;
            let betType = '';
            
            switch(type) {
                case 'green':
                    betType = 'GREEN';
                    break;
                case 'red':
                    betType = 'RED';
                    break;
                case 'big':
                    betType = 'BIG';
                    break;
                case 'small':
                    betType = 'SMALL';
                    break;
            }
            
            showNotification(`Placed ${betAmount} on ${betType}`, 'info');
            
            // Simulate auto-bet on high confidence
            if (settings.autoBet) {
                const confidence = type === 'big' || type === 'small' 
                    ? parseInt(document.getElementById('server1-confidence-value').textContent) 
                    : parseInt(document.getElementById('server2-confidence-value').textContent);
                
                if (confidence > 70) {
                    setTimeout(() => {
                        showNotification(`Auto-bet placed ${betAmount * 2} on ${betType} (High Confidence)`, 'success');
                    }, 1000);
                }
            }
        }
        
        // Export data
        function exportData(format) {
            let dataStr, fileName;
            
            if (format === 'csv') {
                // Convert to CSV
                let csv = 'Period,Server1,Server2,Result\n';
                history.forEach(entry => {
                    csv += `${entry.period},${entry.server1Prediction || '-'},${entry.server2Prediction || '-'},${entry.status}\n`;
                });
                
                dataStr = 'data:text/csv;charset=utf-8,' + encodeURIComponent(csv);
                fileName = 'vasco-predictions.csv';
            } else {
                // Convert to JSON
                const json = JSON.stringify(history, null, 2);
                dataStr = 'data:text/json;charset=utf-8,' + encodeURIComponent(json);
                fileName = 'vasco-predictions.json';
            }
            
            // Create download link
            const downloadAnchor = document.createElement('a');
            downloadAnchor.setAttribute('href', dataStr);
            downloadAnchor.setAttribute('download', fileName);
            document.body.appendChild(downloadAnchor);
            downloadAnchor.click();
            document.body.removeChild(downloadAnchor);
            
            showNotification(`Exported data as ${format.toUpperCase()}`, 'success');
        }
        
        // Fetch Current Game Issue
        async function fetchCurrentGameIssue() {
            const apiUrl = 'https://api.bdg88zf.com/api/webapi/GetGameIssue';
            const requestData = {
                typeId: 1,
                language: 0,
                random: "40079dcba93a48769c6ee9d4d4fae23f",
                signature: "D12108C4F57C549D82B23A91E0FA20AE",
                timestamp: 1727792520,
            };

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json;charset=UTF-8'
                    },
                    body: JSON.stringify(requestData),
                });

                if (response.ok) {
                    const data = await response.json();
                    if (data.code === 0) {
                        const currentPeriod = data.data.issueNumber;
                        if (currentPeriod !== latestPeriod) {
                            latestPeriod = currentPeriod;
                            document.getElementById('period-number').textContent = latestPeriod.toString().slice(-17);
                            fetchPreviousResults();
                        }
                    }
                }
            } catch (error) {
                console.error("❌ Fetch error:", error);
                showNotification('Failed to fetch current game data', 'error');
                document.getElementById('server-status').className = "text-red-400";
                document.getElementById('server-status').innerHTML = '<i class="fas fa-circle"></i> Disconnected';
            }
        }

        // Fetch Previous Results
        async function fetchPreviousResults() {
            const apiUrl = 'https://api.bdg88zf.com/api/webapi/GetNoaverageEmerdList';
            const requestData = {
                pageSize: 10,
                pageNo: 1,
                typeId: 1,
                language: 0,
                random: "c2505d9138da4e3780b2c2b34f2fb789",
                signature: "7D637E060DA35C0C6E28DC6D23D71BED",
                timestamp: 1727792520,
            };

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json;charset=UTF-8'
                    },
                    body: JSON.stringify(requestData),
                });

                if (response.ok) {
                    const data = await response.json();
                    if (data.code === 0 && data.data.list.length > 0) {
                        previousResults = data.data.list;
                        updateResults();
                        updateRecentResultsDisplay();
                        document.getElementById('server-status').className = "text-green-400";
                        document.getElementById('server-status').innerHTML = '<i class="fas fa-circle"></i> Connected';
                    }
                }
            } catch (error) {
                console.error("❌ Fetch error:", error);
                showNotification('Failed to fetch historical data', 'error');
            }
        }

        // Update Results with New Prediction Logic
        function updateResults() {
            if (previousResults.length > 0) {
                const results = previousResults.map(entry => ({ number: parseInt(entry.number) }));

                // Analyze last 10 results for streaks
                const recentNumbers = results.slice(0, 10);
                
                // SERVER 1: SMALL/BIG PREDICTION
                const lastTenBigSmall = recentNumbers.map(entry => (entry.number >= 0 && entry.number <= 4) ? 'SMALL' : 'BIG');
                let bigStreak = 0, smallStreak = 0;
                let currentBigSmallStreak = null;

                lastTenBigSmall.forEach(bs => {
                    if (bs === currentBigSmallStreak) {
                        if (bs === 'BIG') bigStreak++;
                        else smallStreak++;
                    } else {
                        currentBigSmallStreak = bs;
                        bigStreak = (bs === 'BIG') ? 1 : 0;
                        smallStreak = (bs === 'SMALL') ? 1 : 0;
                    }
                });

                // Generate Server 1 prediction
                let server1Prediction, server1Confidence;
                const bigFrequency = recentNumbers.filter(entry => entry.number >= 5).length;
                
                // Check active strategy for server1
                const server1Strategy = document.querySelector('.server1 .strategy-btn.active').textContent.toLowerCase();
                
                if (server1Strategy === 'streak') {
                    // Streak-based strategy
                    server1Prediction = (bigStreak >= 3) ? 'SMALL' : (smallStreak >= 3) ? 'BIG' :
                        (bigFrequency >= 6) ? 'SMALL' : 'BIG';
                    server1Confidence = Math.min(30 + Math.max(bigStreak, smallStreak) * 15, 90);
                } else if (server1Strategy === 'frequency') {
                    // Frequency-based strategy
                    server1Prediction = (bigFrequency >= 6) ? 'SMALL' : 'BIG';
                    server1Confidence = Math.min(50 + Math.abs(bigFrequency - 5) * 10, 90);
                } else {
                    // Neural strategy (simulated)
                    server1Prediction = Math.random() > 0.5 ? 'BIG' : 'SMALL';
                    server1Confidence = Math.floor(65 + Math.random() * 30);
                }
                
                // Update Server 1 UI
                document.getElementById('server1-prediction').textContent = server1Prediction;
                document.getElementById('server1-prediction').className = `server-prediction ${
                    server1Prediction === 'BIG' ? 'text-blue-400' : 'text-yellow-400'
                }`;
                
                // Update confidence meter
                document.getElementById('server1-confidence').style.width = `${server1Confidence}%`;
                document.getElementById('server1-confidence-value').textContent = `${server1Confidence}%`;
                
                // Update AI prediction text
                let aiText1;
                if (server1Strategy === 'streak') {
                    aiText1 = `Streak analysis indicates ${server1Confidence}% confidence for ${server1Prediction} (${bigStreak} BIG / ${smallStreak} SMALL streak)`;
                } else if (server1Strategy === 'frequency') {
                    aiText1 = `Frequency analysis shows ${bigFrequency}/10 BIG numbers (${server1Confidence}% confidence for ${server1Prediction})`;
                } else {
                    aiText1 = `Neural network predicts ${server1Confidence}% probability for ${server1Prediction} based on pattern recognition`;
                }
                document.getElementById('server1-ai-prediction').textContent = aiText1;
                
                // Update Server 1 pattern
                updatePatternIndicators('server1', lastTenBigSmall);
                
                // SERVER 2: GREEN/RED PREDICTION
                const lastTenColors = recentNumbers.map(entry => ([1, 3, 5, 7, 9].includes(entry.number)) ? 'GREEN' : 'RED');
                let greenStreak = 0, redStreak = 0;
                let currentColorStreak = null;

                lastTenColors.forEach(color => {
                    if (color === currentColorStreak) {
                        if (color === 'GREEN') greenStreak++;
                        else redStreak++;
                    } else {
                        currentColorStreak = color;
                        greenStreak = (color === 'GREEN') ? 1 : 0;
                        redStreak = (color === 'RED') ? 1 : 0;
                    }
                });

                // Generate Server 2 prediction
                let server2Prediction, server2Confidence;
                const greenFrequency = lastTenColors.filter(color => color === 'GREEN').length;
                
                // Check active strategy for server2
                const server2Strategy = document.querySelector('.server2 .strategy-btn.active').textContent.toLowerCase();
                
                if (server2Strategy === 'streak') {
                    // Streak-based strategy
                    server2Prediction = (greenStreak >= 3) ? 'RED' : (redStreak >= 3) ? 'GREEN' :
                        (greenFrequency >= 6) ? 'RED' : 'GREEN';
                    server2Confidence = Math.min(30 + Math.max(greenStreak, redStreak) * 15, 90);
                } else if (server2Strategy === 'frequency') {
                    // Frequency-based strategy
                    server2Prediction = (greenFrequency >= 6) ? 'RED' : 'GREEN';
                    server2Confidence = Math.min(50 + Math.abs(greenFrequency - 5) * 10, 90);
                } else {
                    // Neural strategy (simulated)
                    server2Prediction = Math.random() > 0.5 ? 'GREEN' : 'RED';
                    server2Confidence = Math.floor(65 + Math.random() * 30);
                }
                
                // Update Server 2 UI
                document.getElementById('server2-prediction').textContent = server2Prediction;
                document.getElementById('server2-prediction').className = `server-prediction ${
                    server2Prediction === 'GREEN' ? 'text-green-400' : 'text-red-400'
                }`;
                
                // Update confidence meter
                document.getElementById('server2-confidence').style.width = `${server2Confidence}%`;
                document.getElementById('server2-confidence-value').textContent = `${server2Confidence}%`;
                
                // Update AI prediction text
                let aiText2;
                if (server2Strategy === 'streak') {
                    aiText2 = `Streak analysis indicates ${server2Confidence}% confidence for ${server2Prediction} (${greenStreak} GREEN / ${redStreak} RED streak)`;
                } else if (server2Strategy === 'frequency') {
                    aiText2 = `Frequency analysis shows ${greenFrequency}/10 GREEN numbers (${server2Confidence}% confidence for ${server2Prediction})`;
                } else {
                    aiText2 = `Neural network predicts ${server2Confidence}% probability for ${server2Prediction} based on pattern recognition`;
                }
                document.getElementById('server2-ai-prediction').textContent = aiText2;
                
                // Update Server 2 pattern
                updatePatternIndicators('server2', lastTenColors);
                
                // Update history with new predictions
                updateHistory(server1Prediction, server2Prediction);
                
                // Update accuracy stats
                updateAccuracyStats();
                
                // Update charts
                updateCharts();
            }
        }
        
        // Update pattern indicators for a server
        function updatePatternIndicators(server, pattern) {
            const patternEl = document.getElementById(`${server}-pattern`);
            patternEl.innerHTML = '';
            
            // Add dots for current pattern (last 5 results)
            pattern.slice(0, 5).forEach(item => {
                const dot = document.createElement('div');
                dot.className = 'pattern-dot';
                
                if (server === 'server1') {
                    if (item === 'BIG') dot.classList.add('active');
                } else {
                    if (item === 'GREEN') dot.classList.add('active');
                }
                
                patternEl.appendChild(dot);
            });
        }
        
        // Update accuracy statistics
        function updateAccuracyStats() {
            if (history.length < 2) return;
            
            let bigCorrect = 0, bigTotal = 0;
            let smallCorrect = 0, smallTotal = 0;
            let greenCorrect = 0, greenTotal = 0;
            let redCorrect = 0, redTotal = 0;
            
            // Skip the first (pending) entry
            for (let i = 1; i < history.length; i++) {
                const entry = history[i];
                if (entry.status === 'PENDING') continue;
                
                const actualNumber = previousResults[0].number; // Most recent result
                
                // Check Server 1 (SMALL/BIG) prediction
                if (entry.server1Prediction) {
                    if (entry.server1Prediction === 'BIG') {
                        bigTotal++;
                        if (actualNumber >= 5) bigCorrect++;
                    } else if (entry.server1Prediction === 'SMALL') {
                        smallTotal++;
                        if (actualNumber <= 4) smallCorrect++;
                    }
                }
                
                // Check Server 2 (GREEN/RED) prediction
                if (entry.server2Prediction) {
                    if (entry.server2Prediction === 'GREEN') {
                        greenTotal++;
                        if ([1, 3, 5, 7, 9].includes(actualNumber)) greenCorrect++;
                    } else if (entry.server2Prediction === 'RED') {
                        redTotal++;
                        if ([0, 2, 4, 6, 8].includes(actualNumber)) redCorrect++;
                    }
                }
            }
            
            // Update UI
            document.getElementById('big-accuracy').textContent = bigTotal > 0 ? `${Math.round((bigCorrect / bigTotal) * 100)}%` : '0%';
            document.getElementById('small-accuracy').textContent = smallTotal > 0 ? `${Math.round((smallCorrect / smallTotal) * 100)}%` : '0%';
            document.getElementById('green-accuracy').textContent = greenTotal > 0 ? `${Math.round((greenCorrect / greenTotal) * 100)}%` : '0%';
            document.getElementById('red-accuracy').textContent = redTotal > 0 ? `${Math.round((redCorrect / redTotal) * 100)}%` : '0%';
            
            // Update progress bars
            const server1Accuracy = (bigTotal + smallTotal) > 0 ? 
                ((bigCorrect + smallCorrect) / (bigTotal + smallTotal)) * 100 : 0;
            const server2Accuracy = (greenTotal + redTotal) > 0 ? 
                ((greenCorrect + redCorrect) / (greenTotal + redTotal)) * 100 : 0;
                
            document.getElementById('server1-progress').style.width = `${server1Accuracy}%`;
            document.getElementById('server2-progress').style.width = `${server2Accuracy}%`;
            
            // Update performance rating
            updatePerformanceRating(server1Accuracy, server2Accuracy);
        }
        
        // Update performance rating badge
        function updatePerformanceRating(server1Accuracy, server2Accuracy) {
            const avgAccuracy = (server1Accuracy + server2Accuracy) / 2;
            const badge = document.getElementById('performance-rating');
            
            // Remove all badge classes
            badge.className = 'performance-badge';
            
            if (avgAccuracy >= 80) {
                badge.textContent = 'Excellent';
                badge.classList.add('badge-excellent');
            } else if (avgAccuracy >= 70) {
                badge.textContent = 'Good';
                badge.classList.add('badge-good');
            } else if (avgAccuracy >= 60) {
                badge.textContent = 'Average';
                badge.classList.add('badge-average');
            } else if (avgAccuracy >= 50) {
                badge.textContent = 'Poor';
                badge.classList.add('badge-poor');
            } else {
                badge.textContent = 'Bad';
                badge.classList.add('badge-bad');
            }
        }
        
        // Update recent results display
        function updateRecentResultsDisplay() {
            const recentResultsContainer = document.getElementById('recent-results');
            recentResultsContainer.innerHTML = '';
            
            // Show last 5 results
            const resultsToShow = previousResults.slice(0, 5);
            
            resultsToShow.forEach(result => {
                const num = parseInt(result.number);
                const isBig = num >= 5;
                const isGreen = [1, 3, 5, 7, 9].includes(num);
                
                const resultEl = document.createElement('div');
                resultEl.className = `w-10 h-10 rounded-full flex items-center justify-center font-bold ${isGreen ? 'bg-green-500' : 'bg-red-500'}`;
                resultEl.textContent = num;
                resultEl.title = `Period: ${result.issueNumber}\nResult: ${num} (${isBig ? 'BIG' : 'SMALL'} ${isGreen ? 'GREEN' : 'RED'})`;
                
                recentResultsContainer.appendChild(resultEl);
            });
        }

        // Update History with server predictions
        function updateHistory(server1Prediction, server2Prediction) {
            const historyContainer = document.getElementById('history-list');
            historyContainer.innerHTML = '';

            const newHistoryEntry = {
                period: latestPeriod.toString().slice(-17),
                server1Prediction: server1Prediction,
                server2Prediction: server2Prediction,
                status: "PENDING"
            };

            // Add new entry to history
            history.unshift(newHistoryEntry);

            // Update previous entry status
            if (history.length > 1 && previousResults.length > 0) {
                const prevEntry = history[1];
                const actualNumber = previousResults[0].number;
                const actualBigSmall = actualNumber <= 4 ? 'SMALL' : 'BIG';
                const actualColor = [1, 3, 5, 7, 9].includes(actualNumber) ? 'GREEN' : 'RED';

                // Check if either server prediction was correct
                const server1Correct = prevEntry.server1Prediction === actualBigSmall;
                const server2Correct = prevEntry.server2Prediction === actualColor;
                
                prevEntry.status = (server1Correct || server2Correct) ? "WIN" : "LOSS";

                // Show robot message for win/loss
                if (prevEntry.status === "WIN") {
                    if (server1Correct && server2Correct) {
                        showRobotMessage(`🎉 Both servers correct! ${actualBigSmall}/${actualColor}`, true);
                    } else if (server1Correct) {
                        showRobotMessage(`🎉 Server 1 correct! ${actualBigSmall}`, true);
                    } else if (server2Correct) {
                        showRobotMessage(`🎉 Server 2 correct! ${actualColor}`, true);
                    }
                } else if (prevEntry.status === "LOSS") {
                    showRobotMessage(`😢 Loss! Actual: ${actualBigSmall}/${actualColor}`, false);
                }
                
                // Update current streak display
                updateCurrentStreak();
            }

            // Keep only the last 100 entries
            if (history.length > 100) {
                history = history.slice(0, 100);
            }

            // Display history
            let winCount = 0,
                lossCount = 0;
            history.forEach((entry) => {
                const box = document.createElement('div');
                box.className = "history-box bg-gray-800 p-3 rounded-lg grid grid-cols-4 gap-2 items-center";
                
                // Period
                const periodEl = document.createElement('div');
                periodEl.className = "text-gray-300";
                periodEl.innerHTML = `<span class="font-bold text-white">#${entry.period.slice(-4)}</span>`;
                
                // Server 1 Prediction
                const server1El = document.createElement('div');
                server1El.className = "text-center";
                if (entry.server1Prediction) {
                    server1El.innerHTML = `<span class="${entry.server1Prediction === 'BIG' ? 'text-blue-400' : 'text-yellow-400'} font-bold">${entry.server1Prediction}</span>`;
                } else {
                    server1El.textContent = '-';
                }
                
                // Server 2 Prediction
                const server2El = document.createElement('div');
                server2El.className = "text-center";
                if (entry.server2Prediction) {
                    server2El.innerHTML = `<span class="${entry.server2Prediction === 'GREEN' ? 'text-green-400' : 'text-red-400'} font-bold">${entry.server2Prediction}</span>`;
                } else {
                    server2El.textContent = '-';
                }
                
                // Status
                const statusEl = document.createElement('div');
                statusEl.className = `font-bold text-center ${entry.status === 'WIN' ? 'text-green-400' : entry.status === 'LOSS' ? 'text-red-400' : 'text-yellow-400'}`;
                statusEl.textContent = entry.status;
                
                // Append all elements to the box
                box.appendChild(periodEl);
                box.appendChild(server1El);
                box.appendChild(server2El);
                box.appendChild(statusEl);
                
                historyContainer.appendChild(box);

                if (entry.status === "WIN") winCount++;
                else if (entry.status === "LOSS") lossCount++;
            });

            // Update analysis section
            document.getElementById('won-count').textContent = winCount;
            document.getElementById('lost-count').textContent = lossCount;
            const winPercentage = (winCount + lossCount > 0) ? ((winCount / (winCount + lossCount)) * 100).toFixed(2) : 0;
            document.getElementById('won-percentage').textContent = `${winPercentage}%`;
            
            // Update chart if analytics tab is active
            if (document.getElementById('analytics-tab').classList.contains('active')) {
                updateCharts();
            }
        }
        
        // Update current streak display
        function updateCurrentStreak() {
            if (history.length < 2) {
                document.getElementById('current-streak').textContent = '0';
                return;
            }
            
            let streak = 0;
            let isWinningStreak = history[1].status === 'WIN';
            
            for (let i = 1; i < history.length; i++) {
                if (history[i].status === (isWinningStreak ? 'WIN' : 'LOSS')) {
                    streak++;
                } else {
                    break;
                }
            }
            
            document.getElementById('current-streak').textContent = streak;
            document.getElementById('current-streak').className = `text-xl font-bold ${
                isWinningStreak ? 'text-green-400' : 'text-red-400'
            }`;
        }

        // Auto-Fetch Every 5 Seconds
        setInterval(fetchCurrentGameIssue, 5000);
    </script>
</body>

</html>                                          
